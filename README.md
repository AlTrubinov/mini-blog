# üìù –ú–∏–Ω–∏-–±–ª–æ–≥ / –°–µ—Ä–≤–∏—Å –∑–∞–º–µ—Ç–æ–∫ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

REST API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JWT.

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Go
- PostgreSQL
- Docker + Docker Compose
- Chi (—Ä–æ—É—Ç–µ—Ä)
- JWT (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- Goose (–º–∏–≥—Ä–∞—Ü–∏–∏)
- Postman (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API)

---

## üöÄ –ë—ã—Å—Ç–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É

```bash
git clone https://github.com/AlTrubinov/mini-blog.git
cd mini-blog
```

---

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### `.env` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä .env-example –≤ .env:

```bash
cp docker/.env-example docker/.env
```
#### `config/<your_config_name>.yaml` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–§–∞–π–ª `config/default-example.yaml` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –æ–Ω —É–∂–µ —É–∫–∞–∑–∞–Ω –≤ `.env-example`.
–í —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ —Å –¥—Ä—É–≥–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–æ –∫–æ–Ω—Ñ–∏–≥–∞ –≤ `docker/.env`.

---

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
docker compose -f docker/docker-compose.dev.yml up --build
```

---

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `goose`.

```bash
goose --dir ./internal/storage/migrations/ postgres "postgres://<user>:<password>@<host>:<port>/<name>?sslmode=disable" up
```

–ó–Ω–∞—á–µ–Ω–∏—è `user`, `password`, `host`, `port`, `name` –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—à–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É –≤ –ø–∞–ø–∫–µ `config`. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `config/default-example.yaml`:

```bash
goose --dir ./internal/storage/migrations/ postgres "postgres://postgres:postgres@db:5432/mini-blog?sslmode=disable" up
```

–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º —Å —Ö–æ—Å—Ç–æ–º, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–∫–∞–∑–∞—Ç—å localhost:

```bash
goose --dir ./internal/storage/migrations/ postgres "postgres://postgres:postgres@localhost:5432/mini-blog?sslmode=disable" up
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å       | –û–ø–∏—Å–∞–Ω–∏–µ                 |
| ----- | ---------- |--------------------------|
| POST  | `/users`   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—ã–¥–∞—á–∞ JWT |
| POST  | `/login`   | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≤—ã–¥–∞—á–∞ JWT |
| POST  | `/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞    |

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–µ–±—É—é—Ç JWT access —Ç–æ–∫–µ–Ω.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø–∞–ø–∫–µ `tests/` –ª–µ–∂–∏—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—è –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Postman:

- `tests/mini-blog.postman_collection.json` ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `tests/mini-blog.postman_environment.json` ‚Äî –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ Postman –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –≤—Ä—É—á–Ω—É—é (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é)

---